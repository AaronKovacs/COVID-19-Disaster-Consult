{% extends "admin_panel.html" %}

{% block head %}

{% endblock %}

{% block panel_title %}Create Post{% endblock %}

{% block panel_buttons %}
{% endblock %}

{% block postsButton %}active{% endblock %}

{% block content %}
<div class="card" style="width: 60rem; margin-left: auto; margin-right: auto;">
	<div class="card-body">
		<form method="post">
			<div class="form-group">
				<label>Title</label>
				<input name="title" type="text" placeholder="Title" class="form-control" value="{{ post.title }}" required/>
			</div>
			<div class="form-group">
				<div class="form-group">
					<label>Text Content</label>
					<textarea name="content" class="ckeditor" id="editor" rows="10">
						{{ post.content|safe }}
					</textarea>
				</div>
			</div>
			<div class="form-check">
				<div class="custom-control custom-checkbox checkbox-xl">
					<input name="public" type="checkbox" class="custom-control-input" id="checkbox-3" {% if post.public==True %}checked{% else %}{% endif %}>
					<label class="custom-control-label" for="checkbox-3">Public</label>
				</div>
			</div>
			<div class="form-group">
				<button class="btn btn-lg btn-primary btn-block" type="submit">Save Post</button>
			</div>
		</form>
	</div>
</div>
<script>
	ClassicEditor
	.create( document.querySelector( '#editor' ), {
		ckfinder: {
			uploadUrl: '{{ url_for('Posts_upload_just_image') }}'
		}} )
	.catch( error => {
		console.error( error );
	} );
</script>
{% endblock %}
